# 周易预测系统 - Streamlit可视化界面

## 项目概述

这是一个基于Streamlit的周易预测系统可视化界面，集成了64卦展示、占卜功能、RAG问答和股票预测功能。

## 功能特性

### 🏠 首页
- 系统概览和快速开始
- 功能导航和系统状态显示

### 📚 64卦展示
- 完整的六十四卦信息展示
- 网格布局，每个卦显示卦名、卦象和描述
- 搜索功能：支持按卦名或描述搜索
- 详情页：显示卦辞、卦象解析和应用指导

### 🔮 占卜功能
- 随机抽取一卦
- 显示详细的卦象解释和指导
- 传统占卜体验

### ❓ RAG问答系统
- 基于RAG技术的智能问答
- 支持开放性文本问题
- 结构化答案输出：分步分析、推理总结、相关页面、最终答案

### 📈 股票预测
- 结合周易理论的金融预测
- 支持自定义预测参数
- 详细的预测结果分析

### ℹ️ 系统信息
- 系统架构和功能特性
- 实时系统状态监控

## 界面设计

### 🎨 传统中国风配色
- **主色调**: 深蓝色 (#1f4e79)
- **辅助色**: 金色 (#d4af37)
- **强调色**: 红色 (#8b4513)
- **背景**: 渐变色彩搭配

### 🎯 用户体验
- 响应式设计，支持不同屏幕尺寸
- 悬停效果和动画过渡
- 直观的导航和操作流程

## 安装和运行

### 方法1: 使用启动脚本（推荐）

```bash
python run_app.py
```

启动脚本会自动：
1. 检查依赖文件
2. 询问是否安装/更新依赖包
3. 启动Streamlit应用

### 方法2: 手动安装

1. 安装依赖包：
```bash
pip install -r requirements.txt
```

2. 运行应用：
```bash
streamlit run streamlit_app.py
```

### 方法3: 直接运行

```bash
python streamlit_app.py
```

## 访问应用

应用启动后，在浏览器中访问：
- **本地地址**: http://localhost:8501
- **网络地址**: http://your-ip:8501

## 系统要求

### Python版本
- Python 3.8 或更高版本

### 依赖包
- streamlit>=1.28.0
- pandas>=1.5.0
- numpy>=1.24.0
- plotly>=5.15.0
- pydantic>=2.0.0
- scikit-learn>=1.3.0
- xgboost>=1.7.0
- matplotlib>=3.7.0
- seaborn>=0.12.0
- holidays>=0.34
- requests>=2.31.0
- beautifulsoup4>=4.12.0
- PyMuPDF>=1.23.0
- pdfminer.six>=20221105
- torch>=2.0.0

## 使用说明

### 1. 64卦展示
- 在侧边栏选择"📚 64卦展示"
- 使用搜索框查找特定卦象
- 点击"📖 查看详情"查看详细信息

### 2. 占卜功能
- 在侧边栏选择"🔮 占卜功能"
- 点击"🎲 开始占卜"按钮
- 查看随机抽取的卦象和解释

### 3. 智能问答
- 在侧边栏选择"❓ RAG问答"
- 在文本框中输入问题
- 点击"🔍 提交问题"获得答案

### 4. 股票预测
- 在侧边栏选择"📈 股票预测"
- 设置预测参数（日期、公司名称、股票代码、金额）
- 点击"🔮 开始预测"获得预测结果

## 技术架构

### 前端
- **框架**: Streamlit
- **样式**: 自定义CSS + HTML
- **交互**: Streamlit组件

### 后端
- **预测模型**: XGBoost + 周易理论
- **问答系统**: RAG技术
- **API处理**: 自定义API请求处理器

### 数据
- **知识库**: 15条周易理论记录
- **卦象数据**: 64卦完整信息
- **预测数据**: 历史金融数据

## 文件结构

```
├── streamlit_app.py          # 主应用文件
├── run_app.py               # 启动脚本
├── requirements.txt         # 依赖包列表
├── README.md               # 说明文档
├── api_requests.py         # API请求处理
├── src/                    # 源代码目录
│   ├── rag_qa_system.py    # RAG问答系统
│   ├── models.py           # 预测模型
│   └── pipeline.py         # 预测流水线
└── knowledge_base/         # 知识库
```

## 特色功能

### 🎨 视觉设计
- 传统中国风配色方案
- 渐变背景和阴影效果
- 悬停动画和过渡效果
- 响应式网格布局

### 🔮 占卜体验
- 随机卦象抽取
- 详细的卦辞解释
- 实用的应用指导
- 传统占卜仪式感

### 🤖 智能问答
- 基于RAG技术的问答
- 结构化答案输出
- 相关页面引用
- 分步推理分析

### 📈 预测分析
- 结合周易理论的预测
- 可视化结果展示
- 详细的分析报告
- 实时预测功能

## 故障排除

### 常见问题

1. **依赖包安装失败**
   ```bash
   pip install --upgrade pip
   pip install -r requirements.txt
   ```

2. **端口被占用**
   ```bash
   streamlit run streamlit_app.py --server.port 8502
   ```

3. **模块导入错误**
   - 确保在项目根目录运行
   - 检查Python路径设置

4. **界面显示异常**
   - 清除浏览器缓存
   - 检查网络连接

### 性能优化

1. **减少内存使用**
   - 关闭不必要的浏览器标签
   - 定期重启应用

2. **提高响应速度**
   - 使用SSD硬盘
   - 增加内存容量

## 更新日志

### v1.0.0 (2024-10-27)
- 初始版本发布
- 完整的64卦展示功能
- 占卜功能实现
- RAG问答系统集成
- 股票预测功能
- 传统中国风界面设计

## 贡献指南

欢迎提交Issue和Pull Request来改进这个项目。

## 许可证

本项目采用MIT许可证。

## 联系方式

如有问题或建议，请通过以下方式联系：
- 提交GitHub Issue
- 发送邮件反馈

---

**享受您的周易预测之旅！** ☯
